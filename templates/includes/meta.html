
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta property="twitter:card" content="summary">
<meta property="twitter:creator" content="{{ AUTHOR }}">
<meta property="twitter:site" content="{{ TWITTER_USERNAME }}">
<meta property="twitter:creator" content="{{ TWITTER_USERNAME }}">

<meta property="og:site_name" content="{{ SITENAME }} - {{ AUTHOR }}">
<meta property="og:locale" content="en_GB">
<link rel="alternate" type="application/atom+xml"
      title="RSS feed for Argparse"
      href="{{ SITEURL }}/feeds/all.atom.xml" />

{% if article %}
<link rel="canonical" href="{{ SITEURL }}/{{ article.url }}">
<meta name="description" content="{{ article.metadescription }}">

{# facebook things, published and modified, make that the file times. #}
<meta property="og:type" content="article">
<meta property="og:title" content="{{ article.title }}">
<meta property="og:description" content="{{ article.metadescription }}">
<meta property="og:url" content="{{ SITEURL }}/{{ article.url }}">
<!-- <meta property="og:updated_time" content=""> -->
<!-- <meta property="article:modified_time" content=""> -->
<!-- <meta property="article:published_time" content=""> -->
{% if article.image %}
<meta property="og:image" content="{{ SITEURL }}/{{ article.image }}">
{% endif %}

<meta property="article:author" content="https://www.facebook.com/jonathan.sundqvist">
<meta property="article:section" content="{{ article.category }}">
<meta property="article:tags" content="{{ article.tags|join(', ') }}">


{# twitter things #}
<meta property="twitter:description" content="{{ article.metadescription }}">

<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ SITEURL }}/"
      },
      "datePublished": "{{ article.date|datetimeformat("%Y-%m-%d") }}",
      "headline": "{{ article.title }}",
      {# "image": [], remove when I have proper images #}
      "author": {
        "@type": "Person",
        "name": "{{ AUTHOR }}",
        "jobTitle": "Software Engineer"
      },
      "keywords": {{ article.tags|jsonarray }},
      "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.42",
          "reviewCount": "28"
      },
      "wordCount": {{ article.stats.total_words }},
      "description": "{{ article.metadescription }}"
    }
</script>
{% else %}
<meta name="description" content="A site about how to become a better programmer and personal thoughts that Jonathan has.">
{% endif %}

{#
    modification of a single file
    git log -1 --format="%ad" -- path/to/file
    git log --format=%aD -- <FILE> | tail -1 creation date
#}
